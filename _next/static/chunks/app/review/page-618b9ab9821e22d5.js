(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{6372:function(e,t,l){Promise.resolve().then(l.bind(l,7524)),Promise.resolve().then(l.bind(l,2975))},2975:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return y}});var s=l(7437),n=l(3726),a=l(2173),i=l(2265),r=l(9172),d=l(8031),o=l(4873),c=l(8529),x=l.n(c),u=l(5883),h=l(210),m=l(3368);let f=async e=>{let{userId:t,title:l,content:s,next:i,github:r}=e;await a.Z.post(n.Jx+"/review",{userId:t,title:l,content:s,next:i,github:r})};function b(e){let{isModalOpen:t,setIsModalOpen:l}=e,[n,a]=(0,i.useState)(""),[r,d]=(0,i.useState)(""),[c,b]=(0,i.useState)(""),[p,v]=(0,i.useState)(""),j=(0,u.sJ)(h.K);return(0,s.jsx)(x(),{isOpen:t,style:{overlay:{backgroundColor:" rgba(0, 0, 0, 0.4)",width:"100%",height:"100vh",zIndex:"10",position:"fixed",top:"0",left:"0"},content:{width:"50vw",height:"75vh",zIndex:"150",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"10px",boxShadow:"2px 2px 2px rgba(0, 0, 0, 0.25)",backgroundColor:"white",justifyContent:"center",overflow:"auto"}},onRequestClose:()=>l(!1),shouldCloseOnOverlayClick:!1,children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex flex-row w-full",children:[(0,s.jsx)("div",{className:"flex w-full justify-start items-center font-bold text-2xl ml-8",children:"몰입생활후기적기"}),(0,s.jsx)("div",{className:"flex w-full justify-end items-center",children:(0,s.jsx)("button",{onClick:()=>l(!1),children:(0,s.jsx)(o.FMH,{size:30})})})]}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("input",{type:"text",id:"title",value:n,onChange:e=>a(e.target.value),className:"w-full border border-gray-500 p-4 mb-4 rounded-md",placeholder:"제목을 적어주세요."})}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{id:"content",value:r,onChange:e=>d(e.target.value),className:"w-full border h-44 p-4 border-gray-500  mb-4 rounded-md",placeholder:"몰입 캠프를 함께한 후기를 적어주세요."})}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{id:"next",value:c,onChange:e=>b(e.target.value),className:"w-full border h-44 p-4 border-gray-500  mb-4 rounded-md",placeholder:"다음 기수에게 해주고 싶은 말을 적어주세요."})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",id:"github",value:p,onChange:e=>v(e.target.value),className:"w-full border p-4 border-gray-500  mb-4 rounded-md",placeholder:"소개하고 싶은 Github URL을 적어주세요."})}),(0,s.jsx)("div",{className:"flex justify-end mt-auto",children:(0,s.jsx)("button",{className:"bg-black text-white py-2 px-4 rounded",onClick:()=>{console.log(j),j&&f({userId:j.id,title:n,content:r,next:c,github:p}),a(""),d(""),b(""),v(""),(0,m.Z)({title:"후기",text:"후기 작성이 완료되었습니다."}),l(!1)},children:"send"})})]})]})})}var p=l(6820),v=l.n(p);function j(e){let{isModalOpen:t,setIsModalOpen:l,name:r,userId:d,title:c,content:m,next:f,github:b}=e,p=(0,u.sJ)(h.K),[j,g]=(0,i.useState)(c),[w,y]=(0,i.useState)(m),[N,C]=(0,i.useState)(f),[k,I]=(0,i.useState)(b),O=async()=>{v().fire({title:"후기 삭제를 진행하시겠습니까?",showDenyButton:!0,confirmButtonText:"확인",denyButtonText:"취소"}).then(e=>{if(e.isConfirmed){v().fire("로그아웃 되었습니다.");try{a.Z.delete(n.Jx+"/review",{params:{userId:null==p?void 0:p.id}}).then(()=>{l(!1)})}catch(e){}l(!1)}else e.isDenied})},S=async()=>{v().fire({title:"후기 수정을 진행하시겠습니까?",showDenyButton:!0,confirmButtonText:"확인",denyButtonText:"취소"}).then(e=>{if(e.isConfirmed){v().fire("후기가 수정 되었습니다.");try{a.Z.put(n.Jx+"/review",{name:null==p?void 0:p.name,title:j,content:w,next:N,github:k},{params:{userId:null==p?void 0:p.id}})}catch(e){console.log(e)}l(!1)}else e.isDenied})};return(0,s.jsx)(x(),{isOpen:t,style:{overlay:{backgroundColor:" rgba(0, 0, 0, 0.4)",width:"100%",height:"100vh",zIndex:"10",position:"fixed",top:"0",left:"0"},content:{width:"50vw",height:"75vh",zIndex:"150",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"10px",boxShadow:"2px 2px 2px rgba(0, 0, 0, 0.25)",backgroundColor:"white",justifyContent:"center",overflow:"auto"}},onRequestClose:()=>l(!1),shouldCloseOnOverlayClick:!1,children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex flex-row w-full",children:[(0,s.jsx)("div",{className:"flex w-full justify-start items-center font-bold text-2xl ml-8",children:c}),(0,s.jsx)("div",{className:"flex w-full justify-end items-center",children:(0,s.jsx)("button",{onClick:()=>l(!1),children:(0,s.jsx)(o.FMH,{size:30})})})]}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsx)("input",{type:"text",id:"title",value:j,onChange:e=>{p&&d===p.id&&g(e.target.value)},className:"w-full border border-gray-500 p-4 mb-4 rounded-md",placeholder:c})}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{id:"content",value:w,onChange:e=>{p&&d===p.id&&y(e.target.value)},className:"w-full border h-44 p-4 border-gray-500  mb-4 rounded-md",placeholder:"몰입 캠프를 함께한 후기를 적어주세요."})}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{id:"next",value:N,onChange:e=>{p&&d===p.id&&C(e.target.value)},className:"w-full border h-44 p-4 border-gray-500  mb-4 rounded-md",placeholder:"다음 기수에게 해주고 싶은 말을 적어주세요."})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",id:"github",value:k,onChange:e=>{p&&d===p.id&&I(e.target.value)},className:"w-full border p-4 border-gray-500  mb-4 rounded-md",placeholder:"소개하고 싶은 Github URL을 적어주세요."})}),p&&p.id===d&&(0,s.jsxs)("div",{className:"flex justify-end mt-auto",children:[(0,s.jsx)("button",{className:"bg-black text-white py-2 px-4 rounded mr-4",onClick:O,children:"삭제하기"}),(0,s.jsx)("button",{className:"bg-black text-white py-2 px-4 rounded ml-4",onClick:S,children:"수정하기"})]})]})]})})}let g=e=>{let{userId:t,name:l,title:n,content:a,next:d,github:o}=e,[c,x]=(0,i.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"flex flex-col w-1/3 p-8 justify-between items-start text-start",onClick:()=>{x(!0)},children:[(0,s.jsx)("div",{className:"font-bold text-2xl mb-2",children:n}),(0,s.jsx)("div",{className:"text-base text-gray-500 mt-2 mb-2",children:a}),(0,s.jsxs)("div",{className:"mt-auto",children:[(0,s.jsx)("div",{className:"text-base text-gray-400 mb-2",children:l.substring(0,1)+"OO"}),(0,s.jsx)("a",{href:o,children:(0,s.jsx)(r.NML,{size:30})})]})]}),c&&(0,s.jsx)(j,{isModalOpen:c,setIsModalOpen:x,name:l,userId:t,title:n,content:a,next:d,github:o})]})},w=async()=>{try{return(await a.Z.get(n.Jx+"/review")).data}catch(e){console.log(e)}};function y(){let[e,t]=(0,i.useState)(!1),[l,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{w().then(e=>{n(e)})},[e]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"pl-12 pt-12",children:(0,s.jsx)("div",{className:"ml-8 text-4xl font-bold",children:"후기영상"})}),(0,s.jsxs)("div",{className:"black-bg ",children:[(0,s.jsx)("div",{className:"flex justify-center items-center ",children:(0,s.jsx)("iframe",{width:"900",height:"500",src:"https://www.youtube.com/embed/m8WQJrnEg0Y",title:"2019년 여름 KAIST 몰입캠프 참가생 후기",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"})}),(0,s.jsx)("div",{className:"ml-8 text-4xl font-bold text-white p-12 ",children:"참여자후기"})]}),(0,s.jsx)("div",{className:"flex flex-wrap p-12",children:l&&l.map((e,t)=>(0,s.jsx)(g,{userId:e.userId,name:e.name,title:e.title,content:e.content,next:e.next,github:e.github},t))})]}),(0,s.jsx)("div",{className:"fixed bottom-10 right-10 ",children:(0,s.jsx)(d.K8d,{size:80,onClick:()=>t(!0)})}),e&&(0,s.jsx)(b,{isModalOpen:e,setIsModalOpen:t})]})}}},function(e){e.O(0,[691,51,699,452,461,614,77,524,971,938,744],function(){return e(e.s=6372)}),_N_E=e.O()}]);